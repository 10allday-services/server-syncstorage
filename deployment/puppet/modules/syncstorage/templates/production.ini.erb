[server:main]
use = egg:gunicorn#main
host = 127.0.0.1
port = 8000

[app:main]
use = egg:SyncStorage

[macauth]
secrets_file = /etc/mozilla-services/syncstorage/secrets

[metlog]
backend = mozsvc.metrics.MetlogPlugin
logger = syncstorage
sender_class = metlog.senders.udp.UdpSender
sender_host = 127.0.0.1
sender_port = 5566

[cef]
use = true
file = syslog
vendor = mozilla
version = 0
device_version = 1.3
product = syncstorage
syslog.options = PID,CONS
syslog.priority = DEBUG
syslog.facility = LOCAL5

[storage]
backend = syncstorage.storage.memcached.MemcachedStorage
cache_servers = syncstorage-stage.y1uh6n.0001.use1.cache.amazonaws.com:11211
cached_collections = meta
cache_only_collections = tabs
wraps = sqlstorage

[sqlstorage]
backend = syncstorage.storage.sql.SQLStorage
sqluri = pymysql://INVALIDUSER:INVALIDPASSWORD@INVALIDHOST/INVALIDDB
standard_collections = true

<%-#  One [host:hostname] section for each dbnode hostname -%>

<% @db_nodes.each do |hostname, db_node| -%>

[host:<%= hostname %>]
sqlstorage.sqluri = pymysql://<%= @db_user %>:<%= @db_password %>@<%= db_node %>
sqlstorage.create_tables = true

<% end -%>
